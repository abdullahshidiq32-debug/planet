<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ISI HATINYA PEW</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/FontLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/geometries/TextGeometry.js"></script>
  <style>
    body { margin: 0; overflow: hidden; background: linear-gradient(160deg, #0d0d2b, #2b0040); }
    canvas { display: block; }
  </style>
</head>
<body>
  <div id="scene-container" class="w-full h-screen"></div>

  <audio id="bg-music" autoplay loop muted>
    <source src="lagu planet.mp3" type="audio/mpeg">
  </audio>

  <script>
    const bgMusic = document.getElementById("bg-music");
    document.body.addEventListener("click", () => {
      if (bgMusic.muted) {
        bgMusic.muted = false;
        bgMusic.play();
      }
    }, { once: true });

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 2000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById("scene-container").appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
    camera.position.set(30,20,30);
    controls.update();

    const planetGeometry = new THREE.SphereGeometry(5,128,128);
    const texLoader = new THREE.TextureLoader();
    const normalMap = texLoader.load('https://threejs.org/examples/textures/water/Water_1_M_Normal.jpg');
    const emissiveMap = texLoader.load('https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg');
    const planetMaterial = new THREE.MeshStandardMaterial({
      color: 0xff99cc, metalness: 0.1, roughness: 0.2,
      normalMap: normalMap, emissive: new THREE.Color(0xffffff),
      emissiveMap: emissiveMap, emissiveIntensity: 15.0
    });
    const planet = new THREE.Mesh(planetGeometry, planetMaterial);
    scene.add(planet);

    planet.add(new THREE.PointLight(0xff66ff,12,400));
    planet.add(new THREE.PointLight(0x66ccff,10,350));
    planet.add(new THREE.PointLight(0xffffff,8,300));

    const glow = new THREE.Mesh(new THREE.SphereGeometry(7.5,64,64),
      new THREE.MeshBasicMaterial({ color:0xff99ff, transparent:true, opacity:0.4 }));
    planet.add(glow);

    function gaweTulisan3D(huruf, font, ukuran=1) {
      const grup = new THREE.Group();
      const geo = new THREE.TextGeometry(huruf, {
        font: font, size: ukuran, height: 0.3,
        bevelEnabled:true, bevelThickness:0.05, bevelSize:0.05, bevelSegments:3
      });
      const matMain = new THREE.MeshStandardMaterial({ color:0xffffff, emissive:0xff69b4, emissiveIntensity:1.4 });
      const mesh = new THREE.Mesh(geo, matMain);
      grup.add(mesh);

      const matShadow = new THREE.MeshStandardMaterial({ color:0x4B0082, transparent:true, opacity:0.8, emissive:0x8A2BE2, emissiveIntensity:1.5 });
      const shadowMesh = new THREE.Mesh(geo, matShadow);
      shadowMesh.scale.set(1.2,1.2,1.2);
      shadowMesh.position.set(0.15,-0.15,-0.3);
      grup.add(shadowMesh);

      const glowMaterial = new THREE.MeshBasicMaterial({ color:0xff69b4, transparent:true, opacity:0.25 });
      const glowMesh = new THREE.Mesh(geo, glowMaterial);
      glowMesh.scale.set(1.6, 1.6, 1.6);
      grup.add(glowMesh);

      return grup;
    }

    let orbitingTexts1=[], orbitingTexts2=[], textsHorizontal=[], textsVertical=[], photoOrbitSprites=[], asteroidSprites=[];

    const loader = new THREE.FontLoader();
    loader.load("https://threejs.org/examples/fonts/helvetiker_bold.typeface.json", function(font){

      const text1="PENDEKKK baik hatiii Mndiriii lucuu";
      text1.split("").forEach((char,i)=>{
        const angle=-(i/text1.length)*Math.PI*2;
        const radius=14;
        const g=gaweTulisan3D(char,font,1);
        g.position.set(Math.cos(angle)*radius,0,Math.sin(angle)*radius);
        scene.add(g);
        orbitingTexts1.push({group:g,angle,radius});
      });

      const text2="kinanti nisrina tunggadewiii cantikkk buanget";
      const tilt=Math.PI/6;
      text2.split("").forEach((char,i)=>{
        const angle=-(i/text2.length)*Math.PI*2;
        const radius=16;
        const x=Math.cos(angle)*radius, z=Math.sin(angle)*radius;
        const ty=z*Math.sin(tilt), tz=z*Math.cos(tilt);
        const g=gaweTulisan3D(char,font,1);
        g.position.set(x,ty,tz);
        scene.add(g);
        orbitingTexts2.push({group:g,angle,radius,tilt});
      });

      const textH="MAKASIII CANTIKK UDA MAU UNEMENIN AKU TERUSSSS";
      for(let i=0;i<textH.length;i++){
        const char=textH[i];
        const angle=-(i/textH.length)*Math.PI*4;
        const radius=20+i*0.3;
        const g=gaweTulisan3D(char,font,0.9);
        g.position.set(Math.cos(angle)*radius,(i/textH.length-0.5)*20,Math.sin(angle)*radius);
        scene.add(g);
        textsHorizontal.push({group:g,angle,radius,index:i});
      }

      const textV="AKU JANJI AKU BAKAL JADI YANG TERBAIK BUAT KAMUUUU";
      for(let i=0;i<textV.length;i++){
        const char=textV[textV.length-1-i];
        const angleY=-(i/textV.length)*Math.PI*4;
        const radius=22+i*0.3;
        const g=gaweTulisan3D(char,font,0.9);
        g.position.set(Math.cos(angleY)*radius,Math.sin(angleY)*20,0);
        scene.add(g);
        textsVertical.push({group:g,angle:angleY,radius,index:i});
      }

      
      const photoUrls=["./22-1.jpg","./22-10.jpg","./22-13.jpg","./22-14.jpg","./22-15.jpg","./22-2.jpg","./22-22.jpg","./22-3.jpg"];
      const photoRadius = 21; 
      const photoTilt = Math.PI/3; 
      photoUrls.forEach((url,i)=>{
        const tex=new THREE.TextureLoader().load(url);
        const mat=new THREE.SpriteMaterial({map:tex});
        const sprite=new THREE.Sprite(mat);
        sprite.scale.set(3,3,1);
        const baseAngle = (i/photoUrls.length)*Math.PI*2 + (Math.PI / (photoUrls.length*2)); 
        sprite.userData = { angle: baseAngle, radius: photoRadius, tilt: photoTilt };
        
        const a = baseAngle;
        const xr = Math.cos(a) * photoRadius;
        const zr = Math.sin(a) * photoRadius;
        const yr = zr * Math.sin(photoTilt);
        const zr2 = zr * Math.cos(photoTilt);
        sprite.position.set(xr, yr, zr2);
        scene.add(sprite);
        photoOrbitSprites.push(sprite);
      });

    
      const asteroidGifUrls=["./22-4.jpg","./22-5.jpg","./22-6.jpg","./22-7.jpg","./22-8.jpg"];
      for(let i=0;i<500;i++){
        const url=asteroidGifUrls[i%asteroidGifUrls.length];
        const tex=new THREE.TextureLoader().load(url);
        const mat=new THREE.SpriteMaterial({map:tex,transparent:true});
        const sprite=new THREE.Sprite(mat);
        const scale=0.5+Math.random()*0.5;
        sprite.scale.set(scale,scale,1);
        const radius=40+Math.random()*25;
        const angle=Math.random()*Math.PI*2;
        const x=Math.cos(angle)*radius, z=Math.sin(angle)*radius, y=(Math.random()-0.5)*15;
        sprite.position.set(x,y,z);
        asteroidSprites.push({sprite,basePosition:new THREE.Vector3(x,y,z),floatOffset:Math.random()*1000,floatSpeed:0.001+Math.random()*0.002,rotationSpeed:(Math.random()-0.5)*0.01});
        scene.add(sprite);
      }

    });

    function animate(){
      requestAnimationFrame(animate);
      planet.rotation.y+=0.005;

      orbitingTexts1.forEach(o=>{
        o.angle+=0.01;
        o.group.position.set(Math.cos(o.angle)*o.radius,0,Math.sin(o.angle)*o.radius);
        o.group.lookAt(camera.position);
      });

      orbitingTexts2.forEach(o=>{
        o.angle+=0.01;
        const x=Math.cos(o.angle)*o.radius, z=Math.sin(o.angle)*o.radius;
        o.group.position.set(x,z*Math.sin(o.tilt),z*Math.cos(o.tilt));
        o.group.lookAt(camera.position);
      });

      textsHorizontal.forEach(o=>{
        o.angle+=0.002;
        const x=Math.cos(o.angle)*o.radius;
        const z=Math.sin(o.angle)*o.radius;
        const y=(o.index / textsHorizontal.length - 0.5) * 20;
        o.group.position.set(x,y,z);
        o.group.lookAt(camera.position);
      });

      textsVertical.forEach(o=>{
        o.angle+=0.002;
        const x=Math.cos(o.angle)*o.radius;
        const y=Math.sin(o.angle)*20;
        o.group.position.set(x,y,0);
        o.group.lookAt(camera.position);
      });

      photoOrbitSprites.forEach(sprite=>{
        sprite.userData.angle += 0.01;
        const a = sprite.userData.angle;
        const r = sprite.userData.radius;
        const tilt = sprite.userData.tilt;
        const xr = Math.cos(a) * r;
        const zr = Math.sin(a) * r;
        const yr = zr * Math.sin(tilt);
        const zr2 = zr * Math.cos(tilt);
        sprite.position.set(xr, yr, zr2);
        sprite.lookAt(camera.position);
      });

      const t=Date.now();
      asteroidSprites.forEach(o=>{
        o.sprite.position.y=o.basePosition.y+Math.sin(t*o.floatSpeed+o.floatOffset)*0.3;
        o.sprite.material.rotation+=o.rotationSpeed;
        o.sprite.lookAt(camera.position);
      });

      controls.update();
      renderer.render(scene,camera);
    }
    animate();

    window.addEventListener("resize",()=>{
      camera.aspect=window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth,window.innerHeight);
    });
  </script>
</body>
</html>
